<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="/styles.css" /> <!-- âœ… Works with express.static -->
    <title>ðŸŽ¬ Movie API Documentation</title>
  </head>
  <body>
    <h1>ðŸŽ¬ Movie API Documentation</h1>
    <p>
      The MyFlix RESTful API lets users explore movies, directors, and genres.
      Registered users can sign up, update their profiles, and manage a list of
      favorite movies. Responses are returned in JSON format.
    </p>
    <p>
      The API is hosted on Heroku and uses MongoDB Atlas for secure and scalable
      data storage.
    </p>
    <hr />

    <section>
      <h2>
        <span class="method">GET</span> <span class="endpoint">/movies</span>
      </h2>
      <p><strong>Description:</strong> Returns a list of all movies.</p>
      <p><strong>Method:</strong> GET</p>
      <p><strong>Example URL:</strong> <code>/movies</code></p>
      <p><strong>Response Example:</strong></p>
      <pre><code>{
    "_id": "60f1c...",
    "Title": "Inception",
    "Description": "A thief enters dreams to implant ideas, navigating complex subconscious worlds.",
    "Genre": { "Name": "Sci-Fi", "Description": "Futuristic and scientific concepts." },
    "Director": { "Name": "Christopher Nolan", "BirthYear": 1970 },
    "Actors": ["Leonardo DiCaprio", "Joseph Gordon-Levitt", "Elliot Page"],
    "ImagePath": "/images/inception.jpg",
    "ReleaseYear": 2010,
    "Featured": true,
    "Rating": 8.8
}</code></pre>
    </section>

    <section>
      <h2>
        <span class="method">GET</span>
        <span class="endpoint">/movies/:title</span>
      </h2>
      <p>
        <strong>Description:</strong> Returns details about a single movie by
        title.
      </p>
      <p><strong>Method:</strong> GET</p>
      <p><strong>Example URL:</strong> <code>/movies/Inception</code></p>
      <p><strong>Response Example:</strong></p>
      <pre><code>{
    "Title": "Inception",
    "Description": "A thief enters dreams to implant ideas, navigating complex subconscious worlds.",
    "Genre": { "Name": "Sci-Fi", "Description": "Futuristic and scientific concepts." },
    "Director": { "Name": "Christopher Nolan", "BirthYear": 1970 },
    "Actors": ["Leonardo DiCaprio", "Joseph Gordon-Levitt", "Elliot Page"],
    "ImagePath": "/images/inception.jpg",
    "ReleaseYear": 2010,
    "Featured": true,
    "Rating": 8.8
}</code></pre>
    </section>

    <section>
      <h2>
        <span class="method">GET</span>
        <span class="endpoint">/genres/:name</span>
      </h2>
      <p><strong>Description:</strong> Returns genre details by name.</p>
      <p><strong>Method:</strong> GET</p>
      <p><strong>Example URL:</strong> <code>/genres/Thriller</code></p>
      <p><strong>Response Example:</strong></p>
      <pre><code>{
  "Name": "Thriller",
  "Description": "Suspenseful and intense"
}</code></pre>
    </section>

    <section>
      <h2>
        <span class="method">GET</span>
        <span class="endpoint">/directors/:name</span>
      </h2>
      <p><strong>Description:</strong> Returns director details by name.</p>
      <p><strong>Method:</strong> GET</p>
      <p>
        <strong>Example URL:</strong>
        <code>/directors/Christopher%20Nolan</code>
      </p>
      <p><strong>Response Example:</strong></p>
      <pre><code>{
  "Name": "Christopher Nolan",
  "BirthYear": "1970-07-30T00:00:00.000Z"
}</code></pre>
    </section>

    <section>
      <h2>
        <span class="method">POST</span> <span class="endpoint">/users</span>
      </h2>
      <p><strong>Description:</strong> Registers a new user.</p>
      <p><strong>Method:</strong> POST</p>
      <p><strong>Example URL:</strong> <code>/users</code></p>
      <p><strong>Request Body:</strong></p>
      <pre><code>{
    "username": "kevinM",
    "password": "KevPass321#",
    "email": "kevin@example.com",
    "birthday": "1989-05-25T00:00:00Z",
    "favoriteMovies": ["64f24a8cf82e4a5b3c12345b"]
}</code></pre>
      <p><strong>Response:</strong> Created user object.</p>
    </section>

    <section>
      <h2>
        <span class="method">PUT</span>
        <span class="endpoint">/users/:username</span>
      </h2>
      <p><strong>Description:</strong> Updates user information.</p>
      <p><strong>Method:</strong> PUT</p>
      <p><strong>Example URL:</strong> <code>/users/kevinM</code></p>
      <p><strong>Request Body:</strong></p>
      <pre><code>{
  "username": "kevinM",
  "password": "KevPass321#"
}</code></pre>
      <p><strong>Response:</strong> Updated user object.</p>
    </section>

    <section>
      <h2>
        <span class="method">POST</span>
        <span class="endpoint">/users/:username/movies/:movieID</span>
      </h2>
      <p>
        <strong>Description:</strong> Adds a movie to the user's list of
        favorites.
      </p>
      <p><strong>Method:</strong> POST</p>
      <p>
        <strong>Example URL:</strong>
        <code>/users/kevinM/movies/64f24a8cf82e4a5b3c12345b</code>
      </p>
      <p><strong>Response:</strong> Updated user object with favoriteMovies.</p>
    </section>

    <section>
      <h2>
        <span class="method">DELETE</span>
        <span class="endpoint">/users/:username/movies/:movieID</span>
      </h2>
      <p>
        <strong>Description:</strong> Removes a movie from the user's list of
        favorites.
      </p>
      <p><strong>Method:</strong> DELETE</p>
      <p>
        <strong>Example URL:</strong>
        <code>/users/kevinM/movies/64f24a8cf82e4a5b3c12345b</code>
      </p>
      <p>
        <strong>Response:</strong> Updated user object without the removed
        movie.
      </p>
    </section>

    <section>
      <h2>
        <span class="method">DELETE</span>
        <span class="endpoint">/users/:username</span>
      </h2>
      <p><strong>Description:</strong> Deregisters a user.</p>
      <p><strong>Method:</strong> DELETE</p>
      <p><strong>Example URL:</strong> <code>/users/kevinM</code></p>
      <p><strong>Response Example:</strong></p>
      <pre><code>{
  "message": "User deleted",
  "user": { /* user object */ }
}</code></pre>
    </section>
  </body>
</html>
